#include <iostream.h>
#include <windows.h>
#include <math.h>
using namespace std;

double binpow (double, int);
double koren(double, int);
double fact(int);
double ln(double);
double cos(double);
double sin(double);
double tg(double);
char bufRus[256];
char* Rus(const char* text)
{
      CharToOem(text, bufRus);
      return bufRus;
}
//-----------------------------------------------------------------------------------------------------------------------
int main()
{
    cout<<'\t'<<'\t'<<'\t'<<Rus("Инженерный калькулятор\n");
    cout<<Rus("Данный калькулятор предназначен для вычисления косинуса, синуса, тангенса,\n");
    cout<<Rus("натурального логарифма, факториала введенного числа, а так же для вычисления\n");
    cout<<Rus("корня введенной степени данного числа и введенной степени этого числа\n");
    cout<<'\n'<<'\t'<<'\t'<<'\t'<<Rus("Правила работы с калькулятором:\n");
    cout<<Rus("Для вычислений сначала введите символ, отвечающий за операцию, которую вы\n");
    cout<<Rus("хотите провести, а затем вводите пару чисел, над которыми будет производится\nоперация\n");
    cout<<Rus("Символы, отвечающие за операции над числами:\n");
    cout<<Rus("* - произведение\n/ - частное\n+ - сумма\n- - разность\ns - sin\nc - cos\nt - tg\n");
    cout<<Rus("l - ln\nf - факториал\nk - корень n-ной степени\nb - число во введенной степени\n");
    cout<<Rus("Если вы все внимательно прочли и запомнили нажмите Y для продолжения работы\nс программой. ");
    cout<<Rus("Для последующего отображения справки нажмимайте h, для выхода\nиз программы нажимайте E\n");
    char q; 
    while(q!='y')
    {
        cout<<Rus("нажмите Y\n");
        cin>>q;
    }
    system("cls");
    double a;
    double b;
    cout<<Rus("Введите символ операции\n");
    char z; //Символ операции () 
    cin>>z;// Ввод символа 
    while (z!='e')
    {
        switch(z)    //Блок сложения
        {
            case '+':
                cout<<Rus("Введите первое число\n");
                cin>>a;
                cout<<Rus("\nВведите второе число\n");
                cin>>b;
                cout<<a<<"+"<<b<<"="<<a+b<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case '-': //Блок вычитания
                cout<<Rus("Введите первое число\n");
                cin>>a;
                cout<<Rus("\nВведите второе число\n");
                cin>>b;
                cout<<a<<"-"<<b<<"="<<a-b<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case '*':  //Блок умножения
                cout<<Rus("Введите первое число\n");
                cin>>a;
                cout<<Rus("\nВведите второе число\n");
                cin>>b;
                cout<<a<<"x"<<b<<"="<<a*b<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case '/':   //Блок деления
                cout<<Rus("Введите первое число\n");
                cin>>a;
                cout<<Rus("\nВведите второе число\n");
                cin>>b;
                {
                    if (b==0) 
                        cout<<Rus("Ошибка\n");
                    else
                        cout<<a<<"/"<<b<<"="<<a/b<<Rus("\nВведите следующий знак (e - выход)\n");
                }
                cout<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case 's':  //Блок вычисления синуса
                cout<<Rus("Введите угол в градусах (только>0)\n");
                cin>>a;
                if(a<0)
                    cout<<Rus("Следуйте инструкции!\n");
                else
                    cout<<"sin("<<a<<")="<<sin(a)<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case 'c':  //Блок вычисления косинуса
                cout<<Rus("Введите угол в градусах (только>0)\n");
                cin>>a;
                if(a<0)
                    cout<<Rus("Следуйте инструкции!\n");
                else
                    cout<<"cos("<<a<<")="<<cos(a)<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case 't':   //Блок вычисления тангенса
                cout<<Rus("Введите угол в градусах (только>0)\n");
                cin>>a;
                if(a<0)
                    cout<<Rus("Следуйте инструкции!\n");
                else
                {
                    if (cos(a)==0)
                        cout<<Rus("Тангенса введенного угла не существует\n");
                    else
                        cout<<"tg("<<a<<")="<<tg(a)<<Rus("\nВведите следующий знак (e - выход)\n");
                }
                break;
            case 'l':  //Блок вычисления логарифма
                cout<<Rus("Введите число (только>0)\n");
                cin>>a;
                if(a<0)
                    cout<<Rus("Следуйте инструкции!\n");
                else
                    cout<<"ln("<<a<<")="<<ln(a)<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case 'f':   //Блок вычисления факториала
                cout<<Rus("Введите число (только>0 и меньше 170)\n");
                cin>>a;
                if((a<0)||(a>170))
                    cout<<Rus("Следуйте инструкции!\n");
                else
                    cout<<a<<"!="<<fact(a)<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case 'k':  //Блок вычисления корня n-ой степени
                cout<<Rus("Введите основание корня\n");
                cin>>a;
                cout<<Rus("Введите показатель корня(только целое число не меньше 0)\n");
                cin>>b;
                if(b<0)
                    cout<<Rus("Ошибка\n");
                else
                {
                    cout<<Rus("корень из ")<<a<<" = "<<koren(a,b);
                    cout<<Rus("\nВведите следующий знак (e - выход)\n");
                }
                cout<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            case 'b': //Блок возведения числа в степень
                cout<<Rus("Введите число\n");
                cin>>a;
                cout<<Rus("\nВведите степень\n");
                cin>>b;
                cout<<a<<"^"<<b<<"="<<binpow(a,b)<<Rus("\nВведите следующий знак (e - выход)\n");
                break;
            default:
                cout<<"Лучше бы вы посмотрели правила работы с программой\n";
                return 0;
        }
        cin>>z; 
    }
    return 0;
}